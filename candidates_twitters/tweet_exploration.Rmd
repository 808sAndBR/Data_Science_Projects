---
title: "Tweet Exploration"
author: "Scott Brenstuhl"
date: "December 8, 2015"
output: html_document
---

```{r libraries, alert=FALSE, message = FALSE}
library(dplyr)
library(lubridate)
```

```{r}
# Read in tweets produced by twitter_scraper.py
tweets <- read.csv('canidate_tweets.csv', stringsAsFactors = FALSE)

tweets$datetime <- paste(substr(tweets$created,27,31),
                         substr(tweets$created, 5, 19)) %>%
    ymd_hms() %>%
    as.POSIXct()

tweets$is_retweet <- ifelse(grepl('*RT', tweets$text), TRUE, FALSE)

tweets$rawtext <- tweets$text
tweets$text <- tweets$rawtext

tweets$text <- gsub('\\\n',' ', tweets$text)

tweets$links <- strsplit(tolower(tweets$text), " ") %>%
    lapply(grep, pattern= 'http', value = TRUE)

tweets$text <- gsub('[\\.\\\",!?:]', '', tweets$text)

tweets$hashtags <- strsplit(tolower(tweets$text), " ") %>%
    lapply(grep, pattern= '#', value = TRUE)

tweets$mentions <- strsplit(tolower(tweets$text), " ") %>%
    lapply(grep, pattern= '@', value = TRUE)

tweets$split <- strsplit(tolower(tweets$text), " ") %>%
    lapply(grep, pattern= 'http|@|#|rt', value = TRUE, invert=TRUE)


View(head(tweets,400))



```